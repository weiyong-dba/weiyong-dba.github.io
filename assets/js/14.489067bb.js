(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{460:function(s,a,r){"use strict";r.r(a);var t=r(51),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,r=s._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"linux环境下编译gcc"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#linux环境下编译gcc"}},[s._v("#")]),s._v(" Linux环境下编译gcc")]),s._v(" "),r("h2",{attrs:{id:"下载源码包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#下载源码包"}},[s._v("#")]),s._v(" 下载源码包")]),s._v(" "),r("p",[s._v("找一个比较快的镜像下载源码包")]),s._v(" "),r("ol",[r("li",[s._v("https://gcc.gnu.org/mirrors.html")]),s._v(" "),r("li",[s._v("ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/")])]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("$ wget ftp://ftp.mirrorservice.org/sites/sourceware.org/pub/gcc/releases/gcc-4.9.4/gcc-4.9.4.tar.bz2\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("h2",{attrs:{id:"解压"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解压"}},[s._v("#")]),s._v(" 解压")]),s._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[s._v("$ "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvzf gcc-4.9.4.tar.gz\n$ "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" gcc-4.9.4\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br")])]),r("h2",{attrs:{id:"下载依赖包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#下载依赖包"}},[s._v("#")]),s._v(" 下载依赖包")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("$ ./contrib/download_prerequisites\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("p",[s._v("下载完后，在gcc源码根目录可以看到这些下载的包，已自动解压")]),s._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[s._v("drwxrwxrwx  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("    "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1114")]),s._v("    "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1114")]),s._v("  12K Nov "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v(" mpfr-2.4.2\ndrwxrwxrwx  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" gpadmin gpadmin "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0K Dec  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v(" mpc-0.8.1\ndrwxrwxrwx "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" digoal  wheel   "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0K Jan  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010")]),s._v(" gmp-4.3.2\ndrwxrwxr-x "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" gpadmin gpadmin "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0K Oct "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v(" cloog-0.18.1\ndrwxrwxr-x  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" gpadmin gpadmin "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0K Jan "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014")]),s._v(" isl-0.12.2\n-rw-r--r--  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root    "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".1M Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":56 mpfr-2.4.2.tar.bz2\nlrwxrwxrwx  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root      "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":56 mpfr -"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mpfr-2.4.2\n-rw-r--r--  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root    "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".9M Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":59 gmp-4.3.2.tar.bz2\nlrwxrwxrwx  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root       "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":59 gmp -"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" gmp-4.3.2\n-rw-r--r--  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root    533K Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":00 mpc-0.8.1.tar.gz\nlrwxrwxrwx  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root       "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":00 mpc -"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mpc-0.8.1\n-rw-r--r--  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root    "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".3M Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":02 isl-0.12.2.tar.bz2\nlrwxrwxrwx  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root      "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":02 isl -"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" isl-0.12.2\n-rw-r--r--  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root    "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".7M Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":10 cloog-0.18.1.tar.gz\nlrwxrwxrwx  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root    root      "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" Nov  "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":10 cloog -"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" cloog-0.18.1\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br")])]),r("h2",{attrs:{id:"编译gcc"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#编译gcc"}},[s._v("#")]),s._v(" 编译gcc")]),s._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[s._v("$ ./configure --prefix"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/gcc4.9.4 --disable-multilib\n$ "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" -j "),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("\n$ "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br")])]),r("p",[s._v("执行，同时将环境变量加入 /etc/profile")]),s._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[s._v("$ "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LD_LIBRARY_PATH")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/gcc4.9.4/lib:/usr/local/gcc4.9.4/lib64:"),r("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v("\n$ "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[r("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/gcc4.9.4/bin:"),r("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br")])]),r("p",[s._v("加载库"),r("code",[s._v("ldconfig")])]),s._v(" "),r("h2",{attrs:{id:"后记"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#后记"}},[s._v("#")]),s._v(" 后记")]),s._v(" "),r("p",[s._v("如果你需要用6.2的gcc, 安装方法同上, 只是依赖的包版本有点不一样。")])])}),[],!1,null,null,null);a.default=e.exports}}]);