(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{426:function(e,t,a){"use strict";a.r(t);var s=a(51),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"使用act对ssd进行基准测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用act对ssd进行基准测试"}},[e._v("#")]),e._v(" 使用ACT对SSD进行基准测试")]),e._v(" "),a("h2",{attrs:{id:"aerospike认证工具（act）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aerospike认证工具（act）"}},[e._v("#")]),e._v(" Aerospike认证工具（ACT）")]),e._v(" "),a("p",[e._v("用于固态硬盘（SSD）基准测试的开源Aerospike认证工具（ACT）可以帮助您在较大的写负载下运行延迟测试，并提高吞吐量。该测试旨在评估那些评估闪存的性能，以确定满足其实时大数据需求的最佳SSD。该项目位于github上"),a("a",{attrs:{href:"https://github.com/aerospike/act",target:"_blank",rel:"noopener noreferrer"}},[e._v("ACT"),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"配置ssd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置ssd"}},[e._v("#")]),e._v(" 配置SSD")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("清理ssd - "),a("code",[e._v("dd if=/dev/zero of=/dev/nvme0n1 bs=8M")])])]),e._v(" "),a("li",[a("p",[e._v("ssd分区，分区容量是全部容量*0.79")])])]),e._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("parted")]),e._v(" -s /dev/nvme0n1 print\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("parted")]),e._v(" -s /dev/nvme0n1 mklabel gpt\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("parted")]),e._v(" -s /dev/nvme0n1 mkpart  primary  "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("79")]),e._v("%\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("parted")]),e._v(" -s /dev/nvme0n1 print\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h2",{attrs:{id:"编译act"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译act"}},[e._v("#")]),e._v(" 编译ACT")]),e._v(" "),a("ol",[a("li",[e._v("下载ACT")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("git clone https://github.com/aerospike/act\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Install ACT")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cd act\nmake\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("This will create 3 binaries in a target/bin directory:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("act_prep: This executable prepares a device for ACT by writing zeroes on every sector of the disk and then filling it up with random data (salting). This simulates a normal production state.")])]),e._v(" "),a("li",[a("p",[e._v("act_storage: The executable for modeling Aerospike Database data storage device I/O patterns.")])]),e._v(" "),a("li",[a("p",[e._v('act_index: The executable for modeling Aerospike Database "All Flash" mode index device I/O patterns.')])])]),e._v(" "),a("h2",{attrs:{id:"运行act"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行act"}},[e._v("#")]),e._v(" 运行ACT")]),e._v(" "),a("p",[e._v("For each certification test with ACT, you must perform the following steps:")]),e._v(" "),a("ol",[a("li",[e._v("Prepare the device(s) with act_prep -- only the first time you test.")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ sudo ./act_prep /dev/sdc &\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Create the config file for your test.")])]),e._v(" "),a("p",[e._v("Create your config file by copying the appropriate example config file in the /config directory and modifying it, as described in the ACT Configuration Reference below. The example files are for the standard 1x load (2000 reads/sec and 1000 writes/sec per device).")]),e._v(" "),a("p",[e._v('Copy act_storage.conf to run the normal data storage modeling tests, or copy act_index.conf to run "All Flash" mode tests for index devices.')]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Run the test, sending the results to a log file.")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ sudo ./target/bin/act_storage actconfig.txt > output.txt &\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("where:")]),e._v(" "),a("ul",[a("li",[e._v("actconfig.txt - path/name for your config file name")]),e._v(" "),a("li",[e._v("output.txt    - path/name of your log file")])]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Analyze log file output using the /analysis/act_latency.py script.")])]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ ./analysis/act_latency.py -l output.txt\n\nwhere:\n* -l <act output file name> - required parameter that specifies the path/name of the log file generated by ACT\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h2",{attrs:{id:"基准要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基准要求"}},[e._v("#")]),e._v(" 基准要求")]),e._v(" "),a("p",[e._v("测试结果达到以下要求即合格。")]),e._v(" "),a("ul",[a("li",[e._v("fewer than 5% of transactions fail to complete in 1 ms")]),e._v(" "),a("li",[e._v("fewer than 1% of transactions fail to complete in 8 ms")]),e._v(" "),a("li",[e._v("fewer than 0.1% of transactions fail to complete in 64 ms")])])])}),[],!1,null,null,null);t.default=r.exports}}]);